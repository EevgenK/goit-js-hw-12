import{a as p,i as u,S}from"./assets/vendor-oevwmKEY.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();p.defaults.baseURL="https://pixabay.com/api/";const h=async(e,a,l=15)=>{try{return(await p.get("",{params:{key:"45547752-43a0cb06c467be16aeef39c83",q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:l,page:a}})).data}catch(s){console.error(s.message)}},f=(e,a)=>{const l=a.map(({webformatURL:s,largeImageURL:r,tags:o,likes:c,views:L,comments:w,downloads:v})=>`<li class="gallery-item">
        <a class="gallery-link" href="${r}">
          <img class="gallery-image" src="${s}" alt="${o}" />
        
        <ul class="info-list">
          <li class="info-item"><b>Likes</b>
          <span>${c}</span></li>
          <li class="info-item"><b>Views</b>
          <span>${L}</span></li>
          <li class="info-item"><b>Comments</b>
          <span>${w}</span></li>
          <li class="info-item"><b>Downloads
          <span></b>${v}</span></li>
        </ul>
        </a>
      </li>`).join("");e.insertAdjacentHTML("beforeend",l)},x=e=>{e.insertAdjacentHTML("afterend",'<span class="loader visible"></span>')},B=e=>e.innerHTML="",d=e=>u.error({message:e,position:"topRight",backgroundColor:"#EF4040",messageColor:"#FAFAFB",iconUrl:"https://raw.githubusercontent.com/EevgenK/goit-js-hw-11/main/src/img/error.png",messageSize:"16px",messageLineHeight:"24px",maxWidth:"432px",theme:"dark"}),k=e=>u.warning({message:e,backgroundColor:"#4e75ff",messageColor:"#FAFAFB",position:"topRight",messageSize:"16px",messageLineHeight:"24px",maxWidth:"432px",theme:"dark"}),m=e=>e.classList.add("visible"),n=e=>e.classList.remove("visible"),t={form:document.querySelector(".search-form"),gallery:document.querySelector(".gallery"),loadBtn:document.querySelector(".load"),loader:""},P=15;let i=1,g="";const y=new S(".gallery a",{captionsData:"alt",captionDelay:250}),F=()=>{let e=t.gallery.firstChild.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})},b=(e,a)=>e/P/a,q=async()=>{try{const{hits:e,totalHits:a}=await h(g,i);if(n(t.loader),e.length<=0)return d("Sorry, there are no images matching your search query. Please try again!");b(a,i)>1&&m(t.loadBtn),f(t.gallery,e),y.refresh(),t.form.reset()}catch{d("Ooops... Something go wrong. Please, try again later")}n(t.loader)},A=async()=>{try{const{hits:e,totalHits:a}=await h(g,i);b(a,i)<=1?(n(t.loadBtn),k("We're sorry, but you've reached the end of search results.")):m(t.loadBtn),f(t.gallery,e),y.refresh(),F()}catch{d("Ooops... Something go wrong. Please, try again later")}n(t.loader)},C=e=>{i+=1,n(t.loadBtn),m(t.loader),A()},H=e=>{if(e.preventDefault(),i=1,n(t.loadBtn),g=e.currentTarget.input.value.trim(),!g)return d("There's nothing to search. Please, type the query target first!");x(t.loadBtn),t.loader=document.querySelector(".loader"),B(t.gallery),q()};t.loadBtn.addEventListener("click",C);t.form.addEventListener("submit",H);
//# sourceMappingURL=index.js.map
