{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const getPixabayApi = request => {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const searchParams = new URLSearchParams({\n    key: '45547752-43a0cb06c467be16aeef39c83',\n    q: `${request}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`${BASE_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => console.log(error));\n};\nexport { getPixabayApi };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst render = (element, obj) => {\n  const markup = obj\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        \n        <ul class=\"info-list\">\n          <li class=\"info-item\"><b>Likes</b>\n          <span>${likes}</span></li>\n          <li class=\"info-item\"><b>Views</b>\n          <span>${views}</span></li>\n          <li class=\"info-item\"><b>Comments</b>\n          <span>${comments}</span></li>\n          <li class=\"info-item\"><b>Downloads\n          <span></b>${downloads}</span></li>\n        </ul>\n        </a>\n      </li>`\n    )\n    .join('');\n  element.innerHTML = markup;\n};\nconst renderLoader = element => {\n  const markup = `<span class=\"loader visible\"></span>`;\n  element.insertAdjacentHTML('afterend', markup);\n};\nconst clearMarkup = element => (element.innerHTML = '');\nconst errorMessege = str =>\n  iziToast.warning({\n    message: str,\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    messageColor: '#FAFAFB',\n    iconUrl:\n      'https://raw.githubusercontent.com/EevgenK/goit-js-hw-11/main/src/img/error.png',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    maxWidth: '432px',\n    theme: 'dark',\n  });\n\nexport { render, clearMarkup, renderLoader, errorMessege };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getPixabayApi } from './js/pixabay-api';\nimport {\n  render,\n  clearMarkup,\n  renderLoader,\n  errorMessege,\n} from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  /* options */\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst onSearch = e => {\n  e.preventDefault();\n  const targetForm = e.currentTarget;\n  const searchedEl = targetForm.input.value.trim();\n  console.log('str', searchedEl);\n  if (!searchedEl) {\n    return errorMessege(\n      `There's nothing to search. Please, type the query target first!`\n    );\n  }\n  renderLoader(refs.form);\n  const loader = document.querySelector('.loader');\n  clearMarkup(refs.gallery);\n  getPixabayApi(searchedEl)\n    .then(({ hits }) => {\n      if (hits.length > 0) {\n        render(refs.gallery, hits);\n        lightbox.refresh();\n      } else {\n        errorMessege(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n    })\n    .catch(err =>\n      errorMessege('Ooops... Something go wrong. Please, try again later')\n    )\n    .finally(() => {\n      loader.classList.remove('visible');\n      targetForm.reset();\n    });\n};\n\nrefs.form.addEventListener('submit', onSearch);\n"],"names":["getPixabayApi","request","BASE_URL","searchParams","response","error","render","element","obj","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderLoader","clearMarkup","errorMessege","str","iziToast","refs","lightbox","SimpleLightbox","onSearch","e","targetForm","searchedEl","loader","hits","err"],"mappings":"6vBAAA,MAAMA,EAAgBC,GAAW,CAC/B,MAAMC,EAAW,2BACXC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGF,CAAO,GACb,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGC,CAAQ,IAAIC,CAAY,EAAE,EACvC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,ECfMC,EAAS,CAACC,EAASC,IAAQ,CAC/B,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,wCAC4BL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,kBAIpDC,CAAK;AAAA;AAAA,kBAELC,CAAK;AAAA;AAAA,kBAELC,CAAQ;AAAA;AAAA,sBAEJC,CAAS;AAAA;AAAA;AAAA,YAI1B,EACA,KAAK,EAAE,EACVT,EAAQ,UAAYE,CACtB,EACMQ,EAAeV,GAAW,CAE9BA,EAAQ,mBAAmB,WADZ,sCAC8B,CAC/C,EACMW,EAAcX,GAAYA,EAAQ,UAAY,GAC9CY,EAAeC,GACnBC,EAAS,QAAQ,CACf,QAASD,EACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,QACE,iFACF,YAAa,OACb,kBAAmB,OACnB,SAAU,QACV,MAAO,MACX,CAAG,ECxCGE,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAEhD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAWC,GAAK,CACpBA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,cACfE,EAAaD,EAAW,MAAM,MAAM,KAAI,EAE9C,GADA,QAAQ,IAAI,MAAOC,CAAU,EACzB,CAACA,EACH,OAAOT,EACL,iEACN,EAEEF,EAAaK,EAAK,IAAI,EACtB,MAAMO,EAAS,SAAS,cAAc,SAAS,EAC/CX,EAAYI,EAAK,OAAO,EACxBtB,EAAc4B,CAAU,EACrB,KAAK,CAAC,CAAE,KAAAE,KAAW,CACdA,EAAK,OAAS,GAChBxB,EAAOgB,EAAK,QAASQ,CAAI,EACzBP,EAAS,QAAO,GAEhBJ,EACE,0EACV,CAEA,CAAK,EACA,MAAMY,GACLZ,EAAa,sDAAsD,CACpE,EACA,QAAQ,IAAM,CACbU,EAAO,UAAU,OAAO,SAAS,EACjCF,EAAW,MAAK,CACtB,CAAK,CACL,EAEAL,EAAK,KAAK,iBAAiB,SAAUG,CAAQ"}